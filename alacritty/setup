#!/usr/bin/env bash

set -e

sudo apt-get install -y \
    cmake \
    g++ \
    pkg-config \
    libfontconfig1-dev \
    libxcb-xfixes0-dev \
    libxkbcommon-dev \
    python3

rm -rf alacritty
git clone https://github.com/alacritty/alacritty.git -b v0.15.1
pushd alacritty
cargo build --release
cp target/release/alacritty $HOME/.local/bin
popd
rm -rf alacritty

# Alacritty themes
mkdir -p $HOME/.config/alacritty/themes
git clone https://github.com/alacritty/alacritty-theme $HOME/.config/alacritty/themes

ln -sf $PWD/alacritty-auto-font $HOME/.local/bin/alacritty-auto-font

ln -sf $PWD/alacritty.toml $HOME/.config/alacritty/alacritty.toml
ln -sf $PWD/font_high_dpi.toml $HOME/.config/alacritty/font_high_dpi.toml
ln -sf $PWD/font_low_dpi.toml $HOME/.config/alacritty/font_low_dpi.toml
